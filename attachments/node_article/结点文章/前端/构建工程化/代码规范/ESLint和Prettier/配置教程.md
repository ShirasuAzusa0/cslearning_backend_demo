å…±è®¡ 15114 ä¸ªå­—ç¬¦ï¼Œé¢„è®¡éœ€è¦èŠ±è´¹ 38 åˆ†é’Ÿæ‰èƒ½é˜…è¯»å®Œæˆã€‚

åœ¨æˆ‘è¿˜ä¸çŸ¥é“å¦‚ä½•ä» 0 å¼€å§‹é…ç½®`ESlint`çš„æ—¶å€™ï¼Œ`ESlint`å·²ç»æ›´æ–°åˆ° 9.x äº†ã€‚è€Œæˆ‘è¿˜ä¸€ç›´åœ¨ç”¨å„ç§ cli è‡ªåŠ¨ç”Ÿæˆçš„`ESlint`é…ç½®ï¼ŒåŸºæœ¬æ˜¯`ESlint@8.x`ç‰ˆæœ¬ã€‚çœ‹ç€`package.json`ä¸­ä¸€å¤§å †`eslint`ä¾èµ–ï¼Œä¸çŸ¥é“å“ªäº›æœ‰ç”¨å“ªäº›å¤šä½™ã€‚æœ¬ç€ä¸æ˜¯æœ€æ–°æˆ‘ä¸ç”¨çš„åŸåˆ™ï¼Œå½“æˆ‘å°è¯•å‡çº§åˆ° ESlint9.x æ—¶ï¼Œå´ä¸æ˜¯å¾ˆé¡ºåˆ©ï¼Œå› ä¸º`ESlint@9.x`é…ç½®ä¸Šåšäº†ä¸€äº›å¤§æ”¹ã€‚æŠ˜è…¾äº†å‡ å¤©ä¹‹åï¼Œæˆ‘å‘ç°ï¼Œä¸å¦‚å°±ä» 0 å¼€å§‹è®¤è¯†`ESlint@9.x`å§ï¼

> è§‚å‰æç¤ºï¼Œæœ¬æ–‡ä¸­ç”¨åˆ°çš„é¡¹ç›®æ˜¯`pnpm`ã€`vite`ã€`typescript`ã€`vue@3.x`ã€`ESNext`ï¼Œ ä½†æ˜¯`yarn`ã€`npm`ã€`webpack`ã€`CommonJS`ã€ `vue@2.x`ã€`react`ä¾ç„¶é€‚åˆã€‚

## 1ã€å‡†å¤‡ä¸€ä¸ªé¡¹ç›®

é¦–å…ˆå‡†å¤‡ä¸€ä¸ªéœ€è¦é…ç½® ESlint çš„é¡¹ç›®ï¼Œå¦‚æœé¡¹ç›®ä¸­å·²ç»æœ‰æ—§ç‰ˆæœ¬çš„ ESlintï¼Œé‚£å°±å…ˆç§»é™¤æ‰`package.json`ä¸­æ‰€æœ‰`ESlint`ç›¸å…³çš„ä¾èµ–ï¼Œå› ä¸ºæˆ‘ä»¬è¦ä» 0 å¼€å§‹é…ç½®`ESlint@9.x`ï¼Œé¡ºä¾¿è®¤è¯†è¿™ä¸ªå®¶ä¼™ã€‚

> å¦‚æœä½ çš„é¡¹ç›®ä¸­æœ‰`.eslintrc`ç­‰é…ç½®ï¼Œå¯ä»¥å…ˆä¿ç•™è¿™ä»½æ–‡ä»¶ï¼Œåé¢ä¼šç”¨åˆ°ï¼Œåœ¨ä½ å‡çº§åˆ°æœ€æ–°ç‰ˆåï¼Œå¯ä»¥å›æ¥å¤ç”¨å…ˆå‰çš„è§„åˆ™é…ç½®ï¼Œä½†æ˜¯é¿å…å†²çªï¼Œè¯·å…ˆå°†å…¶é‡å‘½åï¼Œæ¯”å¦‚ï¼š`__.eslintrc` ã€‚

```sh
pnpm remove eslint eslint-plugin-vue ...
```

ä»€ä¹ˆï¼Œæ‰‹ä¸Šæ²¡é¡¹ç›®ï¼Ÿé‚£å…ˆæ”¶è—èµ·æ¥ï¼Œä¸‹æ¬¡å›æ¥çœ‹ã€‚

åˆæˆ–è€…å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªï¼š

```sh
pnpm create vite eslint-demo --template vue-ts
```

ä»€ä¹ˆï¼Œè¦æˆ‘çš„ demo æºç ï¼Ÿæœ¬æ–‡æ˜¯æ•™ä½ å¦‚ä½•å­¦ä¼šä½¿ç”¨ ESlintï¼Œèƒ½å¤Ÿåœ¨ä»»ä½•é¡¹ç›®ä¸­ä¸Šæ‰‹é…ç½®ã€‚å¦‚æœä½ çš„é¡¹ç›®è·Ÿç€æˆ‘çš„æ•™ç¨‹å®‰è£…é…ç½®ä¹‹åï¼Œè·‘ä¸èµ·æ¥ã€‚é‚£è¦ä¹ˆæ˜¯æˆ‘è¯´æ¼äº†ï¼Œè¦ä¹ˆæ˜¯ä½ åšæ¼äº†ï¼Œæ¬¢è¿è¯„è®ºåŒºæå‡ºï¼Œæˆ‘ä¸€å®šç»™ä½ è§£å†³æ–¹æ¡ˆã€‚

## 2ã€é¡¹ç›®å®‰è£…å’Œé…ç½® ESlint

é¦–å…ˆæˆ‘ä»¬å…ˆåªéœ€å®‰è£…ä¸€ä¸ª`ESlint@9.x`

```sh
pnpm add eslint@latest -D
```

ç„¶åä½ ä¼šåœ¨`package.json`ä¸­çœ‹åˆ°

```json
// package.json
{
  "devDependencies": {
    "eslint": "^9.9.0"
  }
}
```

é‚£ä¹ˆ

**ESlint åœ¨é¡¹ç›®ä¸­æ˜¯å¦‚ä½•è¿è¡Œçš„å‘¢ï¼Ÿ**

æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å®‰è£…`ESlint`ï¼Œæœ€ç»ˆæ˜¯ä¼šé€šè¿‡å‘½ä»¤`pnpm lint` æˆ–è€…`pnpm lint:fix` å»æ‰§è¡Œï¼Œè¿™ä¸ªå‘½ä»¤ä¼šç”¨é¡¹ç›®ä¸­å®‰è£…çš„`eslint`å»æ£€æŸ¥æŒ‡å®šç›®å½•/æ–‡ä»¶çš„ä»£ç ï¼Œæœ€ç»ˆè¾“å‡ºä¸ç¬¦åˆè§„åˆ™çš„ä»£ç é”™è¯¯ä¿¡æ¯ã€‚

æ‰€ä»¥æ¥ä¸‹æ¥å°±æ˜¯è¦é…ç½®å‘½ä»¤è®©`ESlint`èµ·ä½œç”¨

```json
// package.json
{
  "scripts": {
    "lint": "eslint",
    "lint:fix": "eslint --fix"
  },
  "devDependencies": {
    "eslint": "^9.9.0"
  }
}
```

ç„¶åæˆ‘ä»¬è¯•ç€æ‰§è¡Œä¸€ä¸‹

```sh
pnpm lint
```

ä¸å‡ºæ„å¤–çš„è¯ï¼Œå°±è¦å‡ºæ„å¤–äº†ã€‚æ˜¯çš„æ²¡é”™ï¼Œä½ ä¼šè·Ÿæˆ‘ä¸€æ ·è¾“å‡ºä»¥ä¸‹é”™è¯¯ï¼š

```sh
Oops! Something went wrong! :(
ESLint: 9.9.0
ESLint couldn't find an eslint.config.(js|mjs|cjs) file.
From ESLint v9.0.0, the default configuration file is now eslint.config.js.
If you are using a .eslintrc.* file, please follow the migration guide
to update your configuration file to the new format:
https://eslint.org/docs/latest/use/configure/migration-guide
If you still have problems after following the migration guide, please stop by
https://eslint.org/chat/help to chat with the team.
 ELIFECYCLEâ€‰ Command failed with exit code 2.
```

ä¸è¦æ…Œï¼Œè¿™è¯´æ˜ä½ çš„`ESlint`å·²ç»æ­£ç¡®å®‰è£…ï¼Œå‘½ä»¤ä¹Ÿæ²¡æœ‰é”™ã€‚é”™çš„æ˜¯æˆ‘ä»¬ç¡®å®ä¸€ä»½`ESlint`é…ç½®æ–‡ä»¶ï¼Œæ¥å‘Šè¯‰`ESlint`å»æ ¡éªŒå“ªäº›æ–‡ä»¶ï¼Œç”¨ä»€ä¹ˆè§„åˆ™ã€‚

æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®**æ ¹ç›®å½•**ä¸­åˆ›å»ºä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œä»`ESlint9.x`å¼€å§‹ï¼Œå»ºè®®ç›´æ¥ç”¨`eslint.config.js`ï¼ˆ`ESNext`ï¼‰æˆ–è€…`eslint.config.mjs`ï¼ˆ`CommonJS`ï¼‰å‘½åçš„é…ç½®æ–‡ä»¶ã€‚

```js
//eslint.config.js
export default [
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
];
```

> å› ä¸ºæˆ‘ä»¬çš„`lint`å‘½ä»¤æ˜¯æ²¡æœ‰æŒ‡å®šç›®å½•æˆ–è€…æŒ‡å®šæ–‡ä»¶ç±»å‹çš„ï¼Œé»˜è®¤`eslit`ä¼šå»è¯»å–é¡¹ç›®æ‰€æœ‰æ–‡ä»¶è¿›è¡Œæ ¡éªŒï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨`ignores`å­—æ®µæ¥å‘Šè¯‰`eslint`æ’é™¤å“ªäº›æ–‡ä»¶ï¼Œè¿™é‡Œä¹Ÿå»ºè®®å†™åœ¨é…ç½®æ–‡ä»¶é‡Œé¢ï¼ˆæ›´çµæ´»ï¼‰ï¼Œè€Œä¸æ˜¯å†™åœ¨å‘½ä»¤é‚£é‡Œï¼ˆæ¯”è¾ƒä¹±ï¼‰ã€‚

ç„¶åæˆ‘ä»¬å†æ¥æ‰§è¡Œä¸€ä¸‹

```sh
pnpm lint
```

ä¸å‡ºæ„å¤–çš„è¯ï¼Œæ˜¯æ²¡æœ‰ä»»ä½•é”™è¯¯è¾“å‡ºçš„ï¼Œé‚£ä¹ˆè¯´æ˜ï¼Œ`eslint@9.x`é…ç½®åˆ°è¿™é‡Œå·²ç»ç®—æ˜¯æˆåŠŸäº†ã€‚

## 3ã€è§„åˆ™å®šåˆ¶

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹å®šåˆ¶ä¸€äº›è§„åˆ™ï¼Œè®©é‚£äº›åˆå‡ºèŒ…åºçš„å°ä¼™ä¼´ï¼Œä¹Ÿèƒ½å†™ä¸€æ‰‹æ ‡å‡†çš„ä»£ç ï¼Œè®©å¤§å®¶é£æ ¼ç»Ÿä¸€ã€‚

### 3-1ã€JavaScript è§„åˆ™

å› ä¸º`ESlint`æ˜¯é»˜è®¤æ”¯æŒè§£æ`JavaScript`çš„ï¼Œä»¥åŠæœ‰å†…ç½®ä¸€äº›è§„åˆ™ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€å¯ç”¨ç›¸å¯¹äºçš„è§„åˆ™åç§°å°±å¯ä»¥äº†ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ä¸æƒ³åœ¨è°ƒè¯•ä»£ç æ—¶åœ¨æ§åˆ¶å°çœ‹åˆ°å„ä¸ªå°ä¼™ä¼´äº”èŠ±å…«é—¨çš„ log æ—¥å¿—ï¼Œéå¸¸å½±å“è‡ªå·±è°ƒè¯•ä»£ç ï¼Œé‚£ä¹ˆå¯ä»¥æ·»åŠ ä¸€ä¸‹è§„åˆ™ï¼š

```js
// eslint.config.js
export default [
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  {
    rules: {
      'no-console': 'error',
    },
  },
];
```

ç„¶åæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­éšä¾¿ä¸€ä¸ª js æ–‡ä»¶å†™ä¸€ä¸ª console.log

```js
// xxx.js
console.log('ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸTEO', a)
```

å†æ‰§è¡Œä¸€ä¸‹`lint`å‘½ä»¤ï¼Œè¿™æ—¶ä½ ä¼šçœ‹åˆ°ä»¥ä¸‹é”™è¯¯

```sh
(base) teo@Friday eslint-demo % pnpm lint
> eslint-demo@0.0.0 lint /Users/teo/Code/temp/eslint-demo
> eslint
/Users/teo/Code/temp/eslint-demo/src/tests.js
 1:1  error  Unexpected console statement  no-console
âœ– 1 problem (1 error, 0 warnings)
 ELIFECYCLEâ€‰ Command failed with exit code 1.
```

æ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼ä½ çš„`ESlint`é…ç½®å·²ç»åœ¨ä½ çš„è®¤çŸ¥èŒƒå›´å†…èµ·ä½œç”¨äº†ğŸ‰ã€‚

ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://link.juejin.cn/?target=https%3A%2F%2Feslint.org%2Fdocs%2Flatest%2Frules "https://eslint.org/docs/latest/rules")æ‰¾åˆ°æ›´å¤šçš„`JavaScript`è§„åˆ™ã€‚

é‚£ä¹ˆé™¤äº†ç”¨`error`è¿™ä¹ˆå¼ºåŠ¿çš„å¯ç”¨ï¼Œè¿˜æœ‰å…¶ä»–çš„æç¤ºå—ï¼Ÿæœ‰çš„ï¼Œè§„åˆ™å¯ä»¥æ˜¯`error`ã€`warn`ã€`off`ã€‚

ç›¸æ¯”äº`error`ï¼Œ`warn`åªæ˜¯è­¦å‘Šï¼Œä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œåé¢ä¼šè®²åˆ°ä»–ä»¬çš„ä½œç”¨ã€‚è€Œ`off`åˆ™æ˜¯å…³é—­è¯¥è§„åˆ™ã€‚

åˆ°è¿™é‡Œï¼Œæœºä¼šæœ‰åŒå­¦è¦é—®äº†ï¼Œè§„åˆ™é‚£ä¹ˆå¤šï¼Œæˆ‘è¦ä¸€æ¡ä¸€æ¡å…¨éƒ¨å†™å‡ºæ¥å—ï¼Ÿno no noï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ ESlint æä¾›çš„ç°æˆçš„è§„åˆ™é›†ï¼Œè¦ç”¨åˆ°`@eslint/js`è¿™ä¸ªä¾èµ–åŒ…ã€‚

```sh
pnpm add @eslint/js -D
```

```js
// eslint.config.js
import eslint from '@eslint/js';

export default [
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  eslint.configs.recommended,
];
```

> åé¢ä½ ä¼šçœ‹åˆ°å¾ˆå¤š`recommended`ï¼Œç›¸ä¿¡åœ¨æ—§çš„`ESlint`é¡¹ç›®ä¸­ä½ ä¹Ÿä¼šçœ‹åˆ°è¿™äº›ï¼Œè¿™äº›ä¸€èˆ¬éƒ½æ˜¯ç›¸å…³å¼€å‘è€…æˆ–è€…ç¤¾åŒºæ‰€æ¨èçš„è§„åˆ™ï¼Œå¯ç”¨å°±å¯¹äº†ã€‚å¦‚æœæœ‰äº›è§„åˆ™ä¸æ˜¯å¾ˆç¬¦åˆä½ çš„é¡¹ç›®éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥`off`æ‰ã€‚

åˆ°è¿™ä¸€æ­¥ï¼Œè·Ÿç€æˆ‘åšçš„åŒå­¦å°±ä¼šå‘ç°ï¼Œ`eslint.configs.recommende`d ä¸­å¹¶æ²¡æœ‰`no-console`è§„åˆ™ï¼Œè€Œä¸”è¿˜æç¤º`'console' is not defined`ï¼Œåˆ«æ€¥ï¼Œä¸€æ­¥ä¸€æ­¥æ¥ã€‚

é¦–å…ˆæˆ‘ä»¬æŠŠ`no-console`åŠ å›å»ï¼Œå› ä¸º`eslint.configs.recommende`ä¸­å¹¶æ²¡æœ‰æ¨è`no-console`ï¼Œé™¤éä½ ç”¨`eslint.configs.all`ã€‚

```js
// eslint.config.js
import eslint from '@eslint/js';

export default [
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  eslint.configs.recommended,
  /**
   * JavaScript è§„åˆ™
   */
  {
    rules: {
      'no-console': 'error',
    },
  },
];
```

è¿™é‡Œæ¨èæ¯ç§è§„åˆ™éƒ½å•ç‹¬ä¸€ä¸ªå¯¹è±¡æ¡†èµ·æ¥ï¼Œæ–¹ä¾¿ç®¡ç†ï¼Œå› ä¸ºåé¢è¿˜æœ‰`vue`ã€`typescript`ç­‰è§„åˆ™ã€‚

### 3-2ã€å¯ç”¨éšè—çš„å…¨å±€å˜é‡è§„åˆ™

æ¥ä¸‹æ¥è¯´è¯´ä¸ºä»€ä¹ˆä¼šæç¤º`'console' is not defined`ï¼Œè¿™æ˜¯å› ä¸º`eslint.configs.recommended` ä¸­å¯ç”¨äº†ä¸€æ¡è§„åˆ™`"no-undef": "error"`ï¼Œ`console`æ˜¯å…¨å±€å˜é‡ï¼Œé»˜è®¤å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¯¹äº`eslint`æ¥è¯´ï¼Œä»»ä½•å˜é‡éƒ½éœ€è¦å®šä¹‰ï¼Œä¸ç®¡æ˜¯å¦å…¨å±€å˜é‡ã€‚è¿™ä¹Ÿå¯é¿å…æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸€äº›çœŸçš„ä¸å­˜åœ¨çš„å˜é‡æ—¶å¯¼è‡´å‡ºç°ä¸€äº›ä½çº§é”™è¯¯ã€‚

æ‰“ä¸ªæ¯”æ–¹ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æµè§ˆå™¨ç¯å¢ƒæ‰§è¡Œ`alert()`ï¼Œä½†æ˜¯ä½ åœ¨`nodejs`ç¯å¢ƒä¸­æ‰§è¡Œå°±ä¼šæŠ¥é”™ï¼Œ`nodejs`ä¸­å¹¶æ²¡æœ‰è¯¥æ–¹æ³•ã€‚

æ‰€ä»¥`eslint`ä¸€è§†åŒä»ï¼Œå¯¹äºä»»ä½•å¯ç”¨çš„éšè—å…¨å±€å˜é‡ï¼Œéƒ½éœ€è¦è·Ÿ`eslint`æ‰“å£°æ‹›å‘¼ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªä¾èµ–åŒ…æ¥é…ç½®æ‰€æœ‰å…¨å±€å˜é‡ï¼Œé‚£å°±æ˜¯`globals`ã€‚

```sh
pnpm add globals -D
```

```js
// eslint.config.js
import eslint from '@eslint/js';
import globals from 'globals';

export default [
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  eslint.configs.recommended,
  /**
   * JavaScript è§„åˆ™
   */
  {
    rules: {
      'no-console': 'error',
    },
  },
  /**
   * é…ç½®å…¨å±€å˜é‡
   */
  {
    languageOptions: {
      globals: {
        ...globals.browser,
        /** è¿½åŠ ä¸€äº›å…¶ä»–è‡ªå®šä¹‰å…¨å±€è§„åˆ™ */
        wx: true,
      },
    },
  },
];
```

è¿™æ ·å°±è§£å†³äº†éšè—çš„å…¨å±€å˜é‡å®šä¹‰é—®é¢˜ã€‚

è¿™é‡Œåªæ˜¯å‘ŠçŸ¥`eslint`è¿™äº›æ˜¯å…¨å±€å˜é‡ï¼Œ`eslint`ä¾¿ä¼šå»æ‰è¿™äº›æŠ¥é”™ã€‚è€Œä¸æ˜¯çœŸçš„ç»™ä½ æä¾›è¯¥å˜é‡ï¼Œå³ä¾¿ä½ æ¬ºéª—`eslint` `xxx` æ˜¯å…¨å±€å˜é‡ï¼Œç„¶åä½ å»ä½¿ç”¨è¿™ä¸ª`xxx`æ—¶ï¼Œä»£ç é€»è¾‘ä¾æ—§ä¼šæŠ¥é”™çš„ã€‚ è¿™é‡Œè¿˜é€‚åˆä¸€äº›é€šè¿‡ cdn å¼•å…¥çš„å…¨å±€å˜é‡ï¼Œå¯ä»¥åœ¨è¿™é‡Œé…ç½®ï¼Œä½¿ç”¨æ—¶`eslint`å°±ä¸ä¼šæŠ¥é”™äº†ã€‚

### 3-3ã€Vue è§„åˆ™

ç›¸ä¿¡é…ç½®å®Œ`JavaScript`çš„è§„åˆ™ï¼Œä½ å¯¹`ESlint`å·²ç»æœ‰å…¥é—¨çº§çš„ç†è§£äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯¹é¡¹ç›®çš„`vue`æ–‡ä»¶è¿›è¡Œè§„åˆ™é…ç½®ã€‚

ç”±äº`ESlint`æœ¬èº«åªæ”¯æŒè¯†åˆ«`JavaScript`ï¼Œæ‰€ä»¥å¯¹äº`vue`æ–‡ä»¶ï¼Œè¿˜éœ€è¦ä¸€ä¸ªæ’ä»¶ï¼š`eslint-plugin-vue`ï¼Œå‡å¦‚ä½ çš„é¡¹ç›®ä¹Ÿè·Ÿæˆ‘ä¸€æ ·ç”¨çš„æ˜¯`typescript`ï¼Œé‚£ä¹ˆè¿˜éœ€è¦å¦ä¸€ä¸ªè§£æå™¨ï¼š`typescript-eslint`

```sh
pnpm add eslint-plugin-vue typescript-eslint -D
```

```js
// eslint.config.js
import eslint from '@eslint/js';
import globals from 'globals';
import tseslint from 'typescript-eslint';
import eslintPluginVue from 'eslint-plugin-vue';

export default [
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  eslint.configs.recommended,
  ...eslintPluginVue.configs['flat/recommended'],
  /**
   * JavaScript è§„åˆ™
   */
  {
    rules: {
      'no-console': 'error',
    },
  },
  /**
   * é…ç½®å…¨å±€å˜é‡
   */
  {
    languageOptions: {
      globals: {
        ...globals.browser,
        /** è¿½åŠ ä¸€äº›å…¶ä»–è‡ªå®šä¹‰å…¨å±€è§„åˆ™ */
        wx: true,
      },
    },
  },
  /**
   * Vue è§„åˆ™
   */
  {
    files: ['**/*.vue'],
    languageOptions: {
      parserOptions: {
        /** TypeScript é¡¹ç›®éœ€è¦ç”¨åˆ°è¿™ä¸ª */
        parser: tseslint.parser,
        ecmaVersion: 'latest',
        /** å…è®¸åœ¨ .vue æ–‡ä»¶ä¸­ä½¿ç”¨ JSX */
        ecmaFeatures: {
          jsx: true,
        },
      },
    },
    rules: {
      // åœ¨è¿™é‡Œè¿½åŠ  Vue è§„åˆ™
      'vue/no-mutating-props': [
        'error',
        {
          shallowOnly: true,
        },
      ],
    },
  },
];
```

è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†`eslintPluginVue.configs['flat/recommended']`ä½œä¸º vue çš„æ¨èè§„åˆ™é…ç½®ã€‚åŒæ—¶ï¼Œé‡Œé¢è¿˜åŒ…å«äº†`vue`çš„`ESlint`æ’ä»¶ï¼Œç”¨äºè§£æ`vue`æ–‡ä»¶ï¼Œè¿™ä¹Ÿæ˜¯`ESlint`é…ç½®ä¸ºä»€ä¹ˆè¦å¤§æ”¹çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒè®©`ESlint`é…ç½®æ›´åŠ ç®€å•äº†ã€‚

åŒæ—¶ï¼Œå¦‚æœæ˜¯`typescript`é¡¹ç›®ï¼Œéœ€è¦åœ¨`languageOptions.parserOptions`ä¸­é…ç½®è§£æå™¨æ¥æ”¯æŒ`typescript`ã€‚

è§„åˆ™ä¸­çš„`files`å±æ€§åˆ™ç”¨äºæŒ‡å®šåŒ¹é…çš„åç¼€æ–‡ä»¶æˆ–è€…ç›®å½•ç”¨æ­¤è§„åˆ™æˆ–è€…è§£æå™¨ã€‚å¦‚æœä¸å†™`files`ï¼Œåˆ™è¯¥è§„åˆ™é…ç½®å¯¹æ‰€æœ‰æ–‡ä»¶èµ·ä½œç”¨ã€‚

> è¿™é‡Œè¿˜è¦æ³¨æ„è§„åˆ™çš„ä¼˜å…ˆçº§é—®é¢˜ï¼Œåé¢çš„è§„åˆ™ä¼šè¦†ç›–å‰é¢çš„è§„åˆ™ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠ`recommended`å†™åœ¨æœ€å‰é¢ï¼Œç„¶ååé¢å†å»å…³æ‰/å¯ç”¨ä¸€äº›å…¶ä»–è§„åˆ™ã€‚

å¯¹äº vue çš„æ›´å¤šè§„åˆ™é…ç½®ï¼Œä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://link.juejin.cn/?target=https%3A%2F%2Feslint.vuejs.org%2Frules%2F "https://eslint.vuejs.org/rules/")æ‰¾åˆ°ã€‚

### 3-4ã€TypeScript è§„åˆ™

ä¸Šé¢æˆ‘ä»¬å·²ç»å®‰è£…äº†`typescript-eslint`ç”¨äºå¯¹`vue-ts`çš„æ”¯æŒï¼Œé‚£ä¹ˆå®ƒæœ¬èº«ä¹Ÿæ˜¯é›†æˆäº†`typescript`çš„`recommended`é…ç½®ä»¥åŠ`ESlint`æ’ä»¶çš„ï¼Œå³ä¾¿ä½ ä¸æ˜¯ç”¨åœ¨`vue`é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š

```js
import eslint from '@eslint/js';
import globals from 'globals';
import tseslint from 'typescript-eslint';
import eslintPluginVue from 'eslint-plugin-vue';

export default [
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  /** JS æ¨èé…ç½® */
  eslint.configs.recommended,
  /** TS æ¨èé…ç½® */
  ...tseslint.configs.recommended,
  /** Vue æ¨èé…ç½® */
  ...eslintPluginVue.configs['flat/recommended'],
  /**
   * JavaScript è§„åˆ™
   */
  {
    files: ['**/*.{js,mjs,cjs,vue}'],
    rules: {
      'no-console': 'error',
    },
  },
  /**
   * é…ç½®å…¨å±€å˜é‡
   */
  {
    languageOptions: {
      globals: {
        ...globals.browser,
        /** è¿½åŠ ä¸€äº›å…¶ä»–è‡ªå®šä¹‰å…¨å±€è§„åˆ™ */
        wx: true,
      },
    },
  },
  /**
   * Vue è§„åˆ™
   */
  {
    files: ['**/*.vue'],
    languageOptions: {
      parserOptions: {
        /** TypeScript é¡¹ç›®éœ€è¦ç”¨åˆ°è¿™ä¸ª */
        parser: tseslint.parser,
        ecmaVersion: 'latest',
        /** å…è®¸åœ¨ .vue æ–‡ä»¶ä¸­ä½¿ç”¨ JSX */
        ecmaFeatures: {
          jsx: true,
        },
      },
    },
    rules: {
      // åœ¨è¿™é‡Œè¿½åŠ  Vue è§„åˆ™
      'vue/no-mutating-props': [
        'error',
        {
          shallowOnly: true,
        },
      ],
    },
  },
  /**
   * TypeScript è§„åˆ™
   */
  {
    files: ['**/*.{ts,tsx,vue}'],
    rules: {
      // åœ¨è¿™é‡Œè¿½åŠ  TypeScript è§„åˆ™
    },
  },
];
```

å’Œ`vue`çš„`eslintPluginVue.configs['flat/recommended']`ä¸€æ ·ï¼Œ`tseslint.configs.recommended`ä¹Ÿä¼šåœ¨é…ç½®ä¸­è‡ªåŠ¨æ·»åŠ æ’ä»¶å’Œè§„åˆ™ã€‚

è¿™é‡Œæˆ‘ä»¬æ—¢ç„¶ç”¨åˆ°äº†`typescript-eslint`è¿™ä¸ªæ’ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜å¯ä»¥ç”¨`tseslint.config`è¿™ä¸ªå‡½æ•°ï¼Œæ¥è®©é…ç½®æœ‰æ–‡ä»¶æœ‰ä»£ç æç¤ºï¼Œé¿å…å†™é”™ã€‚

```js
import eslint from '@eslint/js';
import globals from 'globals';
import tseslint from 'typescript-eslint';
import eslintPluginVue from 'eslint-plugin-vue';
import stylistic from '@stylistic/eslint-plugin';

export default tseslint.config(
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  /** JS æ¨èé…ç½® */
  eslint.configs.recommended,
  /** TS æ¨èé…ç½® */
  ...tseslint.configs.recommended,
  /** Vue æ¨èé…ç½® */
  ...eslintPluginVue.configs['flat/recommended'],
  /** Stylistic è‡ªå®šä¹‰è§„åˆ™ */
  stylistic.configs.customize({
    indent: 2,
    quotes: 'single',
    semi: false,
    jsx: true,
    braceStyle: '1tbs',
    arrowParens: 'always',
  }),
  /**
   * JavaScript è§„åˆ™
   */
  {
    files: ['**/*.{js,mjs,cjs,vue}'],
    rules: {
      'no-console': 'error',
    },
  },
  /**
   * é…ç½®å…¨å±€å˜é‡
   */
  {
    languageOptions: {
      globals: {
        ...globals.browser,
        /** è¿½åŠ ä¸€äº›å…¶ä»–è‡ªå®šä¹‰å…¨å±€è§„åˆ™ */
        wx: true,
      },
    },
  },
  /**
   * Vue è§„åˆ™
   */
  {
    files: ['**/*.vue'],
    languageOptions: {
      parserOptions: {
        /** TypeScript é¡¹ç›®éœ€è¦ç”¨åˆ°è¿™ä¸ª */
        parser: tseslint.parser,
        ecmaVersion: 'latest',
        /** å…è®¸åœ¨ .vue æ–‡ä»¶ä¸­ä½¿ç”¨ JSX */
        ecmaFeatures: {
          jsx: true,
        },
      },
    },
    rules: {
      // åœ¨è¿™é‡Œè¿½åŠ  Vue è§„åˆ™
      'vue/no-mutating-props': [
        'error',
        {
          shallowOnly: true,
        },
      ],
    },
  },
  /**
   * TypeScript è§„åˆ™
   */
  {
    files: ['**/*.{ts,tsx,vue}'],
    rules: {
      // è¿™é‡Œå¯ä»¥æ·»åŠ  TypeScript ç›¸å…³çš„è§„åˆ™
    },
  },
); 
```

å¯¹äº`typescript`çš„æ›´å¤šè§„åˆ™é…ç½®ï¼Œä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://link.juejin.cn/?target=https%3A%2F%2Ftypescript-eslint.io%2Frules "https://typescript-eslint.io/rules")æ‰¾åˆ°ã€‚

è¿™é‡Œè¿˜æ¨èç”¨`@stylistic/eslint-plugin`è¿™ä¸ªæ’ä»¶æ¥æä¾›æ›´å¤šçš„`typescript`å’Œ`JavaScript`çš„è¯­æ³•é£æ ¼è§„åˆ™ï¼š

```sh
pnpm add @stylistic/eslint-plugin -D
```

```js
import eslint from '@eslint/js';
import globals from 'globals';
import tseslint from 'typescript-eslint';
import eslintPluginVue from 'eslint-plugin-vue';
import stylistic from '@stylistic/eslint-plugin';

export default tseslint.config(
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  /** JS æ¨èé…ç½® */
  eslint.configs.recommended,
  /** TS æ¨èé…ç½® */
  ...tseslint.configs.recommended,
  /** Vue æ¨èé…ç½® */
  ...eslintPluginVue.configs['flat/recommended'],
  /** Stylistic è‡ªå®šä¹‰è§„åˆ™ */
  stylistic.configs.customize({
    indent: 2,
    quotes: 'single',
    semi: false,
    jsx: true,
    braceStyle: '1tbs',
    arrowParens: 'always',
  }),
  /**
   * JavaScript è§„åˆ™
   */
  {
    files: ['**/*.{js,mjs,cjs,vue}'],
    rules: {
      'no-console': 'error',
    },
  },
  /**
   * é…ç½®å…¨å±€å˜é‡
   */
  {
    languageOptions: {
      globals: {
        ...globals.browser,
        /** è¿½åŠ ä¸€äº›å…¶ä»–è‡ªå®šä¹‰å…¨å±€è§„åˆ™ */
        wx: true,
      },
    },
  },
  /**
   * Vue è§„åˆ™
   */
  {
    files: ['**/*.vue'],
    languageOptions: {
      parserOptions: {
        /** TypeScript é¡¹ç›®éœ€è¦ç”¨åˆ°è¿™ä¸ª */
        parser: tseslint.parser,
        ecmaVersion: 'latest',
        /** å…è®¸åœ¨ .vue æ–‡ä»¶ä¸­ä½¿ç”¨ JSX */
        ecmaFeatures: {
          jsx: true,
        },
      },
    },
    rules: {
      // åœ¨è¿™é‡Œè¿½åŠ  Vue è§„åˆ™
      'vue/no-mutating-props': [
        'error',
        {
          shallowOnly: true,
        },
      ],
    },
  },
  /**
   * TypeScript è§„åˆ™
   */
  {
    files: ['**/*.{ts,tsx,vue}'],
    rules: {
      // è¿™é‡Œå¯ä»¥æ·»åŠ  TypeScript ç›¸å…³çš„è§„åˆ™
    },
  },
);
```

å¥½äº†ï¼Œåˆ°è¿™é‡Œå¦‚æœä¸å‡ºæ„å¤–çš„è¯ï¼Œæ­å–œä½ ï¼Œå…¥é—¨`ESlint`äº†ï¼Œä½ å·²ç»çŸ¥é“ ESlint æ˜¯å¦‚ä½•å»è§£ææ¯ä¸ªä¸åŒç±»å‹çš„æ–‡ä»¶äº†ã€‚

å½“ä½ å…¥é—¨ ESlint ä¹‹åï¼Œè¿˜å¯ä»¥å°è¯•å»æ·»åŠ ä¸€äº›å…¶ä»–æ–‡ä»¶æ ¼å¼çš„è§„åˆ™ï¼Œæ¯”å¦‚`Json`ã€`Markdown`ã€`Html`,å»æœä¸€ä¸‹ç›¸å…³çš„æ’ä»¶ï¼Œç›¸ä¿¡ä½ å¾ˆå®¹æ˜“å°±ä¸Šæ‰‹äº†ã€‚

## äºŒã€ç¼–è¾‘å™¨ä¸­çš„ ESlint

è®²å®Œé¡¹ç›®ä¸­çš„`ESlint`ï¼Œæ¥ä¸‹æ¥è¯´è¯´å¼€å‘è€…å·¥å…·ï¼ˆVS Codeï¼‰ä¸­çš„`ESlint`ã€‚

ä¸ºä»€ä¹ˆæˆ‘é¡¹ç›®ä¸­å·²ç»å®‰è£…äº†`ESlint`ï¼Œè¿˜è¦åœ¨ vscode ä¸­å®‰è£…`ESlint`æ‰©å±•å‘¢ï¼Ÿ

VS Code ä¸­çš„`ESlint`ï¼Œæœ¬è´¨æ˜¯å¯ä»¥åœ¨ä½ ç¼–å†™ä»£ç æ—¶ï¼Œå®æ—¶çœ‹åˆ°ä»£ç ä¸­ä¸ç¬¦åˆé¡¹ç›®`ESlint`è§„åˆ™é…ç½®çš„é”™è¯¯ï¼Œæ¯”å¦‚è¿™æ ·ï¼š

![ESlint9 + Prettier é…ç½®æ•™ç¨‹](https://www.amjun.com/wp-content/themes/puock/assets/img/z/load.svg "ESlint9 + Prettier é…ç½®æ•™ç¨‹")

é‚£å°±æœ‰åŒå­¦è¦é—®äº†ï¼Œä¸ºä»€ä¹ˆä¸è®©å¤§å®¶åœ¨`vscode`ä¸­éƒ½å®‰è£…ä¸€ä¸ª`ESlint`æ‰©å±•ï¼Œé¡¹ç›®ä¸­å°±ä¸éœ€è¦äº†ã€‚

å…¶å®ä»–ä»¬ä¸¤è€…ä½¿ç”¨åœºæ™¯éƒ½ä¸ä¸€æ ·ï¼Œé¡¹ç›®ä¸­å®‰è£…äº†`ESlint`ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è„±ç¦»äº†`vscode`ä¹‹åï¼Œå»å®ç°ä¸€äº›å…¶ä»–åŠŸèƒ½ã€‚

æ¯”å¦‚ï¼Œåœ¨è‡ªåŠ¨åŒ–éƒ¨ç½²æ—¶ï¼Œè¿è¡Œ`pnpm lint`æ¥ç¡®è®¤ä»£ç æ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Œæˆ–è€…åœ¨æäº¤ä»£ç æ—¶ï¼Œé€šè¿‡`husky`æ¥é˜»æ­¢å­˜åœ¨`ESlint`é—®é¢˜çš„ä»£ç æäº¤ã€‚

è€Œ`vscode`ä¸­çš„`ESlint`ï¼Œæœ¬è´¨æ˜¯åœ¨ä½ å¼€å‘æ—¶å¯ä»¥ç«‹é©¬æ‰¾åˆ°é”™è¯¯çš„ä»£ç ä½ç½®è¿›è¡Œæ”¹æ­£ä¿®å¤ã€‚

### 1ã€ESlint æ‰©å±•å®‰è£…

é¦–å…ˆï¼Œéœ€è¦åœ¨`vscode`ä¸­å®‰è£…`ESlint`æ‰©å±•æ’ä»¶ï¼Œå®‰è£…å®Œåå¯èƒ½è¦é‡å¯`vscode`æ¥ç”Ÿæ•ˆã€‚

![ESlint9 + Prettier é…ç½®æ•™ç¨‹](https://www.amjun.com/wp-content/themes/puock/assets/img/z/load.svg "ESlint9 + Prettier é…ç½®æ•™ç¨‹")

### 2ã€ESlint æ‰©å±•å¦‚ä½•è¿ä½œ

`ESlint`æ‰©å±•ä¼šä¼˜å…ˆå»æŸ¥æ‰¾é¡¹ç›®æ ¹ç›®å½•ä¸­çš„`eslint.config.js` é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¸”åŒ…æ‹¬é…ç½®æ–‡ä»¶æ‰€æåˆ°çš„`ESlint`æ’ä»¶ï¼Œä¹Ÿå°±æ˜¯`npm`ä¾èµ–åŒ…ï¼Œæ˜¯çš„æ²¡é”™ï¼Œ`ESlint`æ‰©å±•æœ¬èº«æ‰€éœ€çš„`ESlint` ç‰ˆæœ¬å’Œ`ESlint`æ’ä»¶ï¼Œéƒ½æ˜¯æ¥è‡ªäº`node_modules`ï¼Œä½ å¯ä»¥è¯•ç€æŠŠè¿™ä¸ªç›®å½•åˆ äº†ï¼Œ`vscode`ä¸­çš„`ESlint`æ‰©å±•å°±ä¼šæŠ¥é”™ï¼Œæ— æ³•è¿è¡Œã€‚

ä½†ä½ å¯ç”¨`vscode`ä¸­çš„`ESlint`æ‰©å±•ä¹‹åï¼Œå¹¶ä¸ä¼šå¯¹æ‰€æœ‰æ–‡ä»¶ç”Ÿæ•ˆï¼Œä½ è¿˜éœ€è¦é…ç½®`ESlint`æ‰©å±•çš„è®¾ç½®æ¥å¯¹æ‰€éœ€çš„æ–‡ä»¶å¯ç”¨æ ¡éªŒã€‚

è¿™é‡Œå»ºè®®ä¸ºæ¯ä¸ªé¡¹ç›®å•ç‹¬æ·»åŠ  vscode ç‹¬æœ‰çš„è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª`.vscode`ç›®å½•ï¼Œé‡Œé¢æ”¾ç½®ä¸€ä¸ª`settings.json`æ–‡ä»¶ï¼Œè¿™æ ·`vscode`å°±ä¼šä¼˜å…ˆè¯»å–è¯¥è®¾ç½®ï¼š

```json
// .vscode/settings.json
{
  "eslint.validate": [
    "javascript",
    "vue",
    "vue-html",
    "typescript",
    "typescriptreact",
    "html",
    "css",
    "scss",
    "less",
    "json",
    "jsonc",
    "json5",
    "markdown"
  ]
}
```

è¿™æ ·ä¸€æ¥ï¼Œé…ç½®ä¸­æ‰€æåˆ°çš„æ–‡ä»¶æ ¼å¼ï¼Œéƒ½ä¼šè¢«`ESlint`æ‰©å±•è¯†åˆ«ã€‚

åˆ°è¿™é‡Œï¼ŒESlint åŸºæœ¬ç®—æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œä½†æ˜¯ï¼Œè¿˜æ²¡å®Œï¼Œ`prettier`è¿˜æ²¡è®²å‘¢ï¼

## ä¸‰ã€Prettier å®‰è£…å’Œé…ç½®

`Prettier`æ˜¯ä»€ä¹ˆï¼Ÿå…¶å®å¾ˆå¤šäººéƒ½è®¤è¯†å®ƒï¼Œå®ƒå°±æ˜¯ä¸€ä¸ª vscode æ‰©å±•ï¼Œç”¨äºæ ¼å¼åŒ–ä»£ç ã€‚ä½†æ˜¯ç”¨è¿‡ ESlint çš„äººå¯¹å®ƒåˆçˆ±åˆæ¨ï¼Œæ²¡é”™å®ƒä¼šè·Ÿ ESlint å†²çªã€‚é‚£ä¹ˆæˆ‘æ¥è®²è®²å®ƒä»¬æ˜¯å¦‚ä½•å†²çªï¼Œåˆè¦å¦‚ä½•è§£å†³ã€‚

### 1ã€Prettier å¦‚ä½•è¿ä½œ

`prettier`æ‰©å±•ä¼šè¯»å–é¡¹ç›®æ ¹ç›®å½•ä¸­çš„`.prettierrc`ã€`.prettierrc.js`ä¹‹ç±»çš„é…ç½®æ–‡ä»¶ï¼Œç„¶åä½ åœ¨ vscode ä¸­ç”¨`prettier`æ‰§è¡Œæ ¼å¼åŒ–æ—¶ï¼Œä¼šæ ¹æ®é…ç½®æ–‡ä»¶çš„è¦æ±‚å¯¹ä»£ç è¿›è¡Œæ ¼å¼åŒ–ã€‚

é‚£ä¹ˆé—®é¢˜æ¥ç€ï¼Œæ ¼å¼åŒ–åçš„ç»“æœï¼Œæœ‰æ—¶è·Ÿ`ESlint`çš„è¦æ±‚æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚`ESlint`è¦æ±‚è¿™ä¸ªå±æ€§è¦æ¢è¡Œï¼Œ`prettier`è¦æ±‚è¿™ä¸ªå±æ€§ä¸æ¢è¡Œã€‚å¥½äº†ï¼Œä½ ä»£ç æ˜¯æ ¼å¼åŒ–çš„æ¼‚æ¼‚äº®äº®äº†ï¼Œä½†æ˜¯ ESlint ä¸ä¹æ„å•Šï¼Œå®ƒå°±ç»™ä½ æŠ¥çº¢ã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿ

### 2ã€è§£å†³ Prettier è·Ÿ ESlint å†²çª

ä¸ºäº†è§£å†³ä¸¤è€…çš„å†²çªï¼Œæˆ‘ä»¬è¦ä½¿ç”¨å¦ä¸€ä¸ª`ESlint`æ’ä»¶`eslint-plugin-prettier`ã€‚

`eslint-plugin-prettier`è¿™ä¸ªæ’ä»¶ä¸ä»…æä¾›æ–‡ä»¶è§£æï¼Œä»£ç `fix`ï¼Œä¹Ÿé¡ºå¸¦æä¾›äº†ä¸€äº›è§„åˆ™é…ç½®ï¼Œæ¯”å¦‚å®ƒä¼šæŠŠè·Ÿ`prettier`å†²çªçš„`ESlint`è§„åˆ™ç»™`off`æ‰ï¼Œå¹¶ä½¿ç”¨è‡ªå·±çš„è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒäºŒé€‰ä¸€ï¼Œè®©ä½ é€‰`prettier`ã€‚ä¸ºä»€ä¹ˆæ˜¯`prettier`å‘¢ï¼Œ`prettier`å…¶å®åªæ˜¯æä¾›ä»£ç é£æ ¼çš„è§„èŒƒï¼Œä¹Ÿæ˜¯ç›®å‰ä¸»æµçš„ä¸€ä¸ªé£æ ¼è§„èŒƒï¼Œé‚£æˆ‘ä»¬å°±è·Ÿç€ä¸»æµå‘—ã€‚å…¶ä»–ä»£ç é€»è¾‘çš„è§„èŒƒï¼Œå°±äº¤ç»™`ESlint`ã€‚

```sh
pnpm add eslint-plugin-prettier -D
```

```js
import eslint from '@eslint/js';
import globals from 'globals';
import tseslint from 'typescript-eslint';
import eslintPluginVue from 'eslint-plugin-vue';
import stylistic from '@stylistic/eslint-plugin';
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended';

export default tseslint.config(
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  /** JS æ¨èé…ç½® */
  eslint.configs.recommended,
  /** TS æ¨èé…ç½® */
  ...tseslint.configs.recommended,
  /** Vue æ¨èé…ç½® */
  ...eslintPluginVue.configs['flat/recommended'],
  /** Stylistic è‡ªå®šä¹‰è§„åˆ™ */
  stylistic.configs.customize({
    indent: 2,
    quotes: 'single',
    semi: false,
    jsx: true,
    braceStyle: '1tbs',
    arrowParens: 'always',
  }),
  /**
   * JavaScript è§„åˆ™
   */
  {
    files: ['**/*.{js,mjs,cjs,vue}'],
    rules: {
      'no-console': 'warn',
    },
  },
  /**
   * é…ç½®å…¨å±€å˜é‡
   */
  {
    languageOptions: {
      globals: {
        ...globals.browser,
        /** è¿½åŠ ä¸€äº›å…¶ä»–è‡ªå®šä¹‰å…¨å±€è§„åˆ™ */
        wx: true,
      },
    },
  },
  /**
   * Vue è§„åˆ™
   */
  {
    files: ['**/*.vue'],
    languageOptions: {
      parserOptions: {
        /** TypeScript é¡¹ç›®éœ€è¦ç”¨åˆ°è¿™ä¸ª */
        parser: tseslint.parser,
        ecmaVersion: 'latest',
        /** å…è®¸åœ¨ .vue æ–‡ä»¶ä¸­ä½¿ç”¨ JSX */
        ecmaFeatures: {
          jsx: true,
        },
      },
    },
    rules: {
      // åœ¨è¿™é‡Œè¿½åŠ  Vue è§„åˆ™
      'vue/no-mutating-props': [
        'error',
        {
          shallowOnly: true,
        },
      ],
    },
  },
  /**
   * TypeScript è§„åˆ™
   */
  {
    files: ['**/*.{ts,tsx,vue}'],
    rules: {
      // è¿™é‡Œå¯ä»¥æ·»åŠ  TypeScript ç›¸å…³çš„è§„åˆ™
    },
  },
  /**
   * Prettier é…ç½®
   * ä¼šåˆå¹¶æ ¹ç›®å½•ä¸‹çš„ prettier.config.js æ–‡ä»¶
   * @see https://prettier.io/docs/en/options
   */
  eslintPluginPrettierRecommended,
);
```

è¿™é‡Œä»…ä»…æ˜¯æ·»åŠ ä¸€å¥`eslint-plugin-prettier/recommended`ï¼Œéå¸¸ç®€å•å¯¹å§ï¼Œå®ƒçš„ä½œç”¨æ˜¯`off`ä¸å®ƒå†²çªçš„`ESlint`è§„åˆ™ï¼Œå¹¶ä¸”å¯ç”¨è‡ªå·±çš„`Recommended`è§„åˆ™ï¼Œå¹¶ä¸”å®ƒä¼šè‡ªåŠ¨åˆå¹¶`prettier.config.js`é…ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä»½`prettier.config.js`ï¼Œé…ç½®å¦‚ä¸‹ï¼Œå¯æ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´é…ç½®ã€‚

```js
// prettier.config.js
/**
 * @type {import('prettier').Config}
 * @see https://www.prettier.cn/docs/options.html
 */
export default {
  trailingComma: 'all',
  singleQuote: true,
  semi: false,
  printWidth: 80,
  arrowParens: 'always',
  proseWrap: 'always',
  endOfLine: 'lf',
  experimentalTernaries: false,
  tabWidth: 2,
  useTabs: false,
  quoteProps: 'consistent',
  jsxSingleQuote: false,
  bracketSpacing: true,
  bracketSameLine: false,
  jsxBracketSameLine: false,
  vueIndentScriptAndStyle: false,
  singleAttributePerLine: false,
};
```

è¿™é‡Œå•ç‹¬ä¸€ä»½`prettier.config.js`è€Œä¸æ˜¯å†™è¿›`ESlint`é…ç½®é‡Œé¢ï¼Œæ˜¯å› ä¸º`vscode`çš„`prettier`æ‰©å±•éœ€è¦æ ¹æ®å®ƒçš„é…ç½®æ¥æ ¼å¼åŒ–ä½ çš„ä»£ç ã€‚

åˆ°è¿™é‡Œï¼Œ`vscode`çš„`prettier`æ‰©å±•åœ¨æ ¼å¼åŒ–ä»£ç æ—¶ï¼Œå°±ä¼šè§£å†³æ‰å¤§éƒ¨åˆ†`ESlint`æŠ¥é”™ï¼Œå‰©ä¸‹çš„é”™è¯¯éœ€è¦ä½ è‡ªå·±æ‰‹åŠ¨æ”¹ä¸€æ”¹ã€‚

æœ‰åŒå­¦åˆåˆè¦é—®äº†ï¼Œä¸ºä»€ä¹ˆä¸ç”¨`Prettier ESLint`è¿™ä¸ªæ‰©å±•æ¥æ ¼å¼åŒ–ä»£ç ã€‚

![ESlint9 + Prettier é…ç½®æ•™ç¨‹](https://www.amjun.com/wp-content/themes/puock/assets/img/z/load.svg "ESlint9 + Prettier é…ç½®æ•™ç¨‹")

å¾ˆæŠ±æ­‰ï¼Œæˆªæ­¢ç›®å‰ï¼Œå®ƒä¼¼ä¹è¿˜æ˜¯ä¸æ”¯æŒ`ESlint9.x`ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æ”¹ç”¨`prettier`çš„åŸå› ï¼Œä¹ŸæŠ˜è…¾äº†å¾ˆä¹…æ‰æ˜ç™½æ€ä¹ˆç”¨`ESlint`ã€‚

## æ€»ç»“

æ€»è€Œè¨€ä¹‹ï¼Œä½¿ç”¨ ESlint åªéœ€ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼Œå°±å¯ä»¥å®Œæˆ

### 1ã€ä¾èµ–åŒ…å®‰è£…

```sh
pnpm add eslint @eslint/js globals typescript-eslint eslint-plugin-vue @stylistic/eslint-plugin eslint-plugin-prettier -D
```

### 2ã€åˆ›å»ºæˆ–è€…å¤åˆ¶å·²æœ‰é¡¹ç›®çš„é…ç½®

```js
// eslint.config.js
import eslint from '@eslint/js';
import globals from 'globals';
import tseslint from 'typescript-eslint';
import eslintPluginVue from 'eslint-plugin-vue';
import stylistic from '@stylistic/eslint-plugin';
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended';

export default tseslint.config(
  {
    ignores: [
      'node_modules',
      'dist',
      'public',
    ],
  },
  /** JS æ¨èé…ç½® */
  eslint.configs.recommended,
  /** TS æ¨èé…ç½® */
  ...tseslint.configs.recommended,
  /** Vue æ¨èé…ç½® */
  ...eslintPluginVue.configs['flat/recommended'],
  /** Stylistic è‡ªå®šä¹‰è§„åˆ™ */
  stylistic.configs.customize({
    indent: 2,
    quotes: 'single',
    semi: false,
    jsx: true,
    braceStyle: '1tbs',
    arrowParens: 'always',
  }),
  /**
   * JavaScript è§„åˆ™
   */
  {
    files: ['**/*.{js,mjs,cjs,vue}'],
    rules: {
      'no-console': 'warn',
    },
  },
  /**
   * é…ç½®å…¨å±€å˜é‡
   */
  {
    languageOptions: {
      globals: {
        ...globals.browser,
        /** è¿½åŠ ä¸€äº›å…¶ä»–è‡ªå®šä¹‰å…¨å±€è§„åˆ™ */
        wx: true,
      },
    },
  },
  /**
   * Vue è§„åˆ™
   */
  {
    files: ['**/*.vue'],
    languageOptions: {
      parserOptions: {
        /** TypeScript é¡¹ç›®éœ€è¦ç”¨åˆ°è¿™ä¸ª */
        parser: tseslint.parser,
        ecmaVersion: 'latest',
        /** å…è®¸åœ¨ .vue æ–‡ä»¶ä¸­ä½¿ç”¨ JSX */
        ecmaFeatures: {
          jsx: true,
        },
      },
    },
    rules: {
      // åœ¨è¿™é‡Œè¿½åŠ  Vue è§„åˆ™
      'vue/no-mutating-props': [
        'error',
        {
          shallowOnly: true,
        },
      ],
    },
  },
  /**
   * TypeScript è§„åˆ™
   */
  {
    files: ['**/*.{ts,tsx,vue}'],
    rules: {
      // è¿™é‡Œå¯ä»¥æ·»åŠ  TypeScript ç›¸å…³çš„è§„åˆ™
    },
  },
  /**
   * Prettier é…ç½®
   * ä¼šåˆå¹¶æ ¹ç›®å½•ä¸‹çš„ .prettier.config.js æ–‡ä»¶
   * @see https://prettier.io/docs/en/options
   */
  eslintPluginPrettierRecommended,
);
```

```js
// prettier.config.js
/**
 * @type {import('prettier').Config}
 * @see https://www.prettier.cn/docs/options.html
 */
export default {
  trailingComma: 'all',
  singleQuote: true,
  semi: false,
  printWidth: 80,
  arrowParens: 'always',
  proseWrap: 'always',
  endOfLine: 'lf',
  experimentalTernaries: false,
  tabWidth: 2,
  useTabs: false,
  quoteProps: 'consistent',
  jsxSingleQuote: false,
  bracketSpacing: true,
  bracketSameLine: false,
  jsxBracketSameLine: false,
  vueIndentScriptAndStyle: false,
  singleAttributePerLine: false,
};
```

```json
// .vscode/settings.json
{
  "eslint.validate": [
    "javascript",
    "vue",
    "vue-html",
    "typescript",
    "typescriptreact",
    "html",
    "css",
    "scss",
    "less",
    "json",
    "jsonc",
    "json5",
    "markdown"
  ]
}
```

```json
// package.json
{
  "scripts": {
    "lint": "eslint",
    "lint:fix": "eslint --fix"
  },
  "devDependencies": {
    "eslint": "^9.9.0"
  }
}
```

æœ¬æ–‡è½¬è½½è‡ªï¼š[2024å¹´ï½œESlint9+Prettierä»0å¼€å§‹é…ç½®æ•™ç¨‹](https://juejin.cn/post/7402696141495779363#heading-14)

æé†’ï¼šæœ¬æ–‡å‘å¸ƒäº161å¤©å‰ï¼Œæ–‡ä¸­æ‰€å…³è”çš„ä¿¡æ¯å¯èƒ½å·²å‘ç”Ÿæ”¹å˜ï¼Œè¯·çŸ¥æ‚‰ï¼