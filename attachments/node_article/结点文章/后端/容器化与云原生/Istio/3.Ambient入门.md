1.  [文档](https://istio.io/latest/zh/docs/ "了解如何部署、使用和运维 Istio。")
2.  [Ambient 模式](https://istio.io/latest/zh/docs/ambient/ "有关在 Ambient 模式下设置和操作 Istio 的信息。")
3.  入门

## 入门

* * *

1.  [下载 Istio CLI](#download-the-istio-cli)
2.  [将 Istio 安装到你的集群上](#install-istio-on-to-your-cluster)
3.  [安装 Kubernetes Gateway API CRD](#install-the-kubernetes-gateway-api-crds)
4.  [下一步](#next-steps)

* * *

本指南可让您快速评估 Istio 的 Ambient 模式。 您需要一个 Kubernetes 集群才能继续。如果您没有集群， 则可以使用 [kind](https://istio.io/latest/zh/docs/setup/platform-setup/kind) 或任何其他[受支持的 Kubernetes 平台](https://istio.io/latest/zh/docs/setup/platform-setup)。

这些步骤要求您拥有一个集群， 其中运行 Kubernetes [受支持的版本](https://istio.io/latest/zh/docs/releases/supported-releases#support-status-of-istio-releases) （1.29, 1.30, 1.31, 1.32）。

## 下载 Istio CLI

Istio 使用名为 `istioctl` 的命令行工具进行配置。下载该工具以及 Istio 示例应用程序：

```bash
$ curl -L https://istio.io/downloadIstio | sh -
$ cd istio-1.25.0
$ export PATH=$PWD/bin:$PATH
```

通过打印版本的命令来检查您是否能够运行 `istioctl`。 此时，Istio 尚未安装在您的集群中，因此您将看到没有 Pod 就绪。

```bash
$ istioctl version
Istio is not present in the cluster: no running Istio pods in namespace "istio-system"
client version: 1.25.0
```

## 将 Istio 安装到你的集群上

`istioctl` 支持多种[配置文件](https://istio.io/latest/zh/docs/setup/additional-setup/config-profiles/)， 其中包含不同的默认选项，并可根据您的生产需求进行自定义。 `ambient` 配置文件中包含对 Ambient 模式的支持。使用以下命令安装 Istio：

```bash
$ istioctl install --set profile=ambient --skip-confirmation
```

安装完成后，您将看到以下输出，表明所有组件已成功安装。

```plain
✔ Istio core installed
✔ Istiod installed
✔ CNI installed
✔ Ztunnel installed
✔ Installation complete
```

## 安装 Kubernetes Gateway API CRD

您将使用 Kubernetes Gateway API 来配置流量路由。

请注意，Kubernetes Gateway API CRD 不会默认安装在大多数 Kubernetes 集群上， 因此请确保在使用 Gateway API 之前已安装好这些 CRD：

```bash
$ kubectl get crd gateways.gateway.networking.k8s.io &> /dev/null || \
  kubectl apply -f https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.2.1/standard-install.yaml
```

## 下一步

恭喜！您已经成功安装支持 Ambient 模式的 Istio。 继续下一步以[安装示例应用程序](https://istio.io/latest/zh/docs/ambient/getting-started/deploy-sample-app/)。

[部署示例应用程序](https://istio.io/latest/zh/docs/ambient/getting-started/deploy-sample-app/ "部署 Bookinfo 示例应用程序。")